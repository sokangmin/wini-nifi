# NiFi Site-to-Site 구성방법
이 글은 Apache NiFi의 Cluster를 구성하는 방법에 대해 설명한다. <br/>
- 선행작업으로 [NiFi 기본설치(Standalone모드)](./tutorial_install.md)가 2대(송신, 수신NiFi)로 미리 설치되어야 한다.<br/>

## Site-to-Site
NiFi의 한 인스턴스에서 다른 NiFi 인스턴스로 데이터를 전송할 때 사용하는 프로토콜입니다.<br/>
Site-to-Site을 사용하면 NiFi 인스턴스간의 데이터를 안전하고 효율적으로 전송할 수 있다.

## 장점
- 손쉬운 설정
  - 원격 NiFi 인스턴스의 URL을 입력하면 사용 가능한 포트가 자동으로 검색되고 목록으로 제공된다.
- 데이터 보안
  - 데이터를 암호화하고 인증 및 권한을 부여하기 위해 인증서를 사용한다.
- 효율적인 데이터 전송
  - 데이터 전송간의 오버헤드를 피하기 위해 FlowFiles의 배치 전송을 허용한다.
- 신뢰적인 데이터 전송
  - 체크섬을 이용해 데이터가 손상이 없는지 확인한다. 체크섬이 일치하지 않으면 트랙잰션이 취소되고 재시도한다.
- FlowFile의 속성 유지
  - FlowFile이 이 프로토콜을 통해 전송되면 원격 인스턴스로 모든 FlowFile의 속성이 자동으로 전송됩니다.
  - 모든 속성이 같이 전송되기 때문에 원격 인스턴스에서 데이터를 쉽게 라우팅하고 검사할 수 있게하여 유용하게 쓰일수 있다. 
## 구성방법
### 1. 수신 NiFi에 송신NiFi 계정 추가 및 정책 설정
- 송신NiFi 계정 추가
  - 수신NiFi에 관리자계정으로 접속
  - 메뉴-Users 선택
  - Identity에 송신 NiFi의 서버DN(예를 들어, CN=winiot.w07, OU=NIFI)을 입력하고 OK버튼을 
